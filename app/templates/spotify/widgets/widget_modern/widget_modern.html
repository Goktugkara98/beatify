<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Müzik Widget - Yeniden Yapılandırılmış</title>

    <!--
      NOT:
      Bu HTML yapısı tamamen yeniden düzenlenmiştir.
      CSS dosyalarınızdaki sınıf seçicilerini aşağıdaki yeni yapıya göre güncellemeniz gerekmektedir.
      Örneğin, '.modern-track-name-container' artık '.TrackNameLayoutContainer' olmuştur.
      Bu yapı, düzen, animasyon ve içeriği birbirinden ayırarak daha temiz bir kod tabanı sunar.
    -->
    <link rel="stylesheet" href="/static/css/spotify/widget-manager/widgets/spotify_widget_core.css">
    <link rel="stylesheet" href="/static/css/spotify/widget-manager/widgets/widget_modern/widget_modern.css"> 
    <link rel="stylesheet" href="/static/css/spotify/widget-manager/widgets/widget_modern/widget_modern_animations.css"> 
<body>
    
    <!-- 
      WidgetContainer:
      Tüm widget'ın ana sarmalayıcısı. Genel konumlandırma ve boyutlandırma burada yapılır.
    -->
    <div id="spotifyWidgetModern" class="WidgetContainer widget-inactive"
         data-token="j5Bp8lwM6iad"
         data-endpoint-template="/spotify/api/widget-data/{TOKEN}">

        <!-- 
          BackgroundLayoutContainer:
          Arka plan elemanlarının (görsel, renk vb.) widget içindeki yerleşimini kontrol eder.
        -->
        <div class="BackgroundLayoutContainer ">
            <!-- 
              AlbumArtBackgroundLayoutContainer:
              Arka plan albüm görselinin pozisyonunu belirler.
            -->
            <div class="AlbumArtBackgroundLayoutContainer" >
                <!-- AlbumArtBackgroundAnimationContainer: Animasyonun başlangıç durumunu (opacity, transform vb.) tanımlar. -->
                <div class="AlbumArtBackgroundAnimationContainer" data-set="a" data-type="AlbumArtBackgroundAnimationContainer">
                    <img id="AlbumArtBackgroundElement_a" class="AlbumArtBackgroundElement" data-set="a" data-type="AlbumArtBackgroundElement" src="" alt="Arka Plan A">
                </div>
                <div class="AlbumArtBackgroundAnimationContainer passive" data-set="b" data-type="AlbumArtBackgroundAnimationContainer">
                    <img id="AlbumArtBackgroundElement_b" class="AlbumArtBackgroundElement passive" data-set="b" data-type="AlbumArtBackgroundElement" src="" alt="Arka Plan B">
                </div>
            </div>
            <!-- Renk Arka Planı için gelecekteki bir konteyner buraya eklenebilir. -->
            <!--
            <div class="ColorBackgroundLayoutContainer">
                <div class="ColorBackgroundAnimationContainer" data-set="a">
                    <div id="ColorBackgroundElement_a" class="ColorBackgroundElement" data-set="a"></div>
                </div>
                <div class="ColorBackgroundAnimationContainer passive" data-set="b">
                    <div id="ColorBackgroundElement_b" class="ColorBackgroundElement passive" data-set="b"></div>
                </div>
            </div>
            -->
        </div>

        <!-- 
          EffectsLayoutContainer:
          Gradyan, parçacık gibi görsel efektlerin yerleşimini kontrol eder.
        -->
        <div class="EffectsLayoutContainer ">
            <div class="GradientOverlayLayoutContainer">
                <div class="GradientOverlayAnimationContainer">
                    <div class="GradientOverlayElement"></div>
                </div>
            </div>
        </div>

        <!-- 
          CoverLayoutContainer:
          Ana albüm kapak görselinin widget içindeki yerleşimini kontrol eder.
        -->
        <div class="CoverLayoutContainer ">
            <div class="CoverAnimationContainer" data-set="a" data-type="CoverAnimationContainer">
                <img id="CoverElement_a" class="CoverElement" data-set="a" data-type="CoverElement" src="" alt="Kapak A">
            </div>
            <div class="CoverAnimationContainer passive" data-set="b" data-type="CoverAnimationContainer">
                <img id="CoverElement_b" class="CoverElement passive" data-set="b" data-type="CoverElement" src="" alt="Kapak B">
            </div>
        </div>

        <!-- 
          ContentLayoutContainer:
          Şarkı bilgileri, ilerleme çubuğu gibi tüm ana içeriğin yerleşimini kontrol eder.
        -->
        <div class="ContentLayoutContainer">

            <!-- TrackInfoLayoutContainer: Şarkı ve sanatçı adını bir arada gruplar ve konumlandırır. -->
            <div class="TrackInfoLayoutContainer ">
                <div class="TrackNameLayoutContainer">
                    <div class="TrackNameAnimationContainer" data-set="a" data-type="TrackNameAnimationContainer">
                        <h3 id="TrackNameElement_a" class="TrackNameElement" data-set="a" data-type="TrackNameElement" title="Şarkı Adı Yükleniyor..."></h3>
                    </div>
                    <div class="TrackNameAnimationContainer passive" data-set="b" data-type="TrackNameAnimationContainer">
                        <h3 id="TrackNameElement_b" class="TrackNameElement passive" data-set="b" data-type="TrackNameElement" title=""></h3>
                    </div>
                </div>
                <div class="ArtistNameLayoutContainer">
                    <div class="ArtistNameAnimationContainer" data-set="a" data-type="ArtistNameAnimationContainer">
                        <p id="ArtistNameElement_a" class="ArtistNameElement" data-set="a" data-type="ArtistNameElement"></p>
                    </div>
                    <div class="ArtistNameAnimationContainer passive" data-set="b" data-type="ArtistNameAnimationContainer">
                        <p id="ArtistNameElement_b" class="ArtistNameElement passive" data-set="b" data-type="ArtistNameElement"></p>
                    </div>
                </div>
            </div>

            <!-- PlayerControlsLayoutContainer: İlerleme çubuğu ve zaman göstergelerini gruplar. -->
            <div class="PlayerControlsLayoutContainer ">
                <div class="ProgressBarLayoutContainer">
                    <!-- Animasyon konteyneri burada doğrudan elemanın kendisi için kullanılabilir. -->
                    <div class="ProgressBarAnimationContainer" data-set="a" data-type="ProgressBarAnimationContainer">
                        <div id="ProgressBarElement_a" class="ProgressBarElement" style="width: 0%;" data-set="a" data-type="ProgressBarElement"></div>
                        <!-- İlerleme çubuğu genellikle tekildir, b seti şarkı geçişi için eklenebilir. -->
                        <div id="ProgressBarElement_b" class="ProgressBarElement passive" style="width: 0%;" data-set="b" data-type="ProgressBarElement"></div>
                    </div>
                </div>
                <div class="TimeDisplayLayoutContainer">
                    <div class="CurrentTimeLayoutContainer">
                        <div class="CurrentTimeAnimationContainer" data-set="a" data-type="CurrentTimeAnimationContainer">
                            <span id="CurrentTimeElement_a" class="CurrentTimeElement" data-set="a" data-type="CurrentTimeElement">0:00</span>
                        </div>
                        <div class="CurrentTimeAnimationContainer passive" data-set="b" data-type="CurrentTimeAnimationContainer">
                             <span id="CurrentTimeElement_b" class="CurrentTimeElement passive" data-set="b" data-type="CurrentTimeElement">0:00</span>
                        </div>
                    </div>
                    <div class="TotalTimeLayoutContainer">
                        <div class="TotalTimeAnimationContainer" data-set="a" data-type="TotalTimeAnimationContainer">
                            <span id="TotalTimeElement_a" class="TotalTimeElement" data-set="a" data-type="TotalTimeElement">0:00</span>
                        </div>
                        <div class="TotalTimeAnimationContainer passive" data-set="b" data-type="TotalTimeAnimationContainer">
                            <span id="TotalTimeElement_b" class="TotalTimeElement passive" data-set="b" data-type="TotalTimeElement">0:00</span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- ProviderBadgeLayoutContainer: Servis sağlayıcı logosunun yerleşimini kontrol eder. -->
            <div class="BadgeLayoutContainer">
                <div class="ProviderBadgeAnimationContainer" data-set="a" data-type="ProviderBadgeAnimationContainer">
                    <!-- 'spotify' gibi bir sınıf JS ile eklenerek logo değiştirilebilir -->
                    <div id="ProviderBadgeElement_a" class="ProviderBadgeElement spotify" data-set="a" data-type="ProviderBadgeElement">
                        <img src="/static/img/icons/Spotify/Full_Logo_Green_RGB.svg" alt="Spotify" class="ProviderLogo">
                    </div>
                </div>
                 <div class="ProviderBadgeAnimationContainer passive" data-set="b" data-type="ProviderBadgeAnimationContainer">
                    <div id="ProviderBadgeElement_b" class="ProviderBadgeElement spotify passive" data-set="b" data-type="ProviderBadgeElement">
                        <img src="/static/img/icons/Spotify/Full_Logo_Green_RGB.svg" alt="Spotify" class="ProviderLogo">
                    </div>
                </div>
            </div>
        </div>

        <!-- 
          ErrorMessageLayoutContainer:
          Hata mesajlarının gösterileceği alan.
        -->
        <div class="ErrorMessageLayoutContainer">
            <div id="ErrorMessageElement" class="ErrorMessageElement">
                <!-- Hata mesajı JavaScript ile buraya eklenecek -->
            </div>
        </div>
    </div>
    
    <!-- Backend'den gelen konfigürasyon verileri -->
    <script>
        // Bu kısım sunucu tarafından render edildiğinde dinamik olarak doldurulur.
        window.configData = JSON.parse('{{ config|tojson|safe }}');
        console.log('Backend config yüklendi:', window.configData);
    </script>
    <!-- Gerekli JavaScript dosyaları -->
    <script src="/static/js/spotify/widget-manager/widgets/spotify_widget_core.js"></script>
    <script src="/static/js/spotify/widget-manager/widgets/widget_modern/widget_modern.js"></script>

</body>
</html>
