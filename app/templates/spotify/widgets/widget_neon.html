<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Spotify Widget - Neon Tasarım</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <link rel="stylesheet" href="/static/css/spotify/widget-manager/widgets/widget_neon.css">
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;500;700&family=Quicksand:wght@300;400;500;700&display=swap" rel="stylesheet">
</head>
<body class="bg-transparent flex items-center justify-center min-h-screen">

    <div id="spotifyWidgetNeon" class="spotify-widget-neon relative overflow-hidden">
        <!-- Neon Arkaplan Efekti -->
        <div class="neon-grid"></div>
        <div class="neon-glow"></div>
        
        <!-- Ana İçerik Konteyneri -->
        <div class="widget-content relative z-10">
            <!-- Üst Kısım: Spotify Logo ve Durum -->
            <div class="widget-header">
                <div class="spotify-logo">
                    <i class="fab fa-spotify"></i>
                    <span class="status-indicator" id="statusIndicator"></span>
                </div>
                <div class="now-playing-text" id="nowPlayingText">NOW PLAYING</div>
            </div>
            
            <!-- Orta Kısım: Albüm ve Şarkı Bilgileri -->
            <div class="track-display">
                <div class="album-container">
                    <div class="album-art-container">
                        <img id="albumArtNeon" src="https://placehold.co/300x300/121212/444444?text=Beatify" alt="Albüm Kapağı" class="album-art">
                        <div class="album-reflection"></div>
                    </div>
                    <div class="vinyl-disc" id="vinylDisc">
                        <div class="vinyl-inner"></div>
                        <div class="vinyl-hole"></div>
                    </div>
                </div>
                
                <div class="track-info">
                    <h3 id="trackNameNeon" class="track-name">Yükleniyor...</h3>
                    <p id="artistNameNeon" class="artist-name">...</p>
                    
                    <!-- Ses Dalgası Animasyonu -->
                    <div class="sound-wave" id="soundWave">
                        <span></span><span></span><span></span><span></span><span></span>
                        <span></span><span></span><span></span><span></span><span></span>
                    </div>
                </div>
            </div>
            
            <!-- Alt Kısım: İlerleme Çubuğu ve Zaman -->
            <div class="progress-container">
                <div class="time-display">
                    <span id="currentTimeNeon">0:00</span>
                    <span id="totalTimeNeon">0:00</span>
                </div>
                <div class="progress-bar-container">
                    <div class="progress-bar-bg"></div>
                    <div class="progress-bar-fill" id="progressBarFill"></div>
                </div>
            </div>
        </div>
        
        <!-- Hata Mesajı -->
        <div id="errorMessageNeon" class="error-message">
            Bir hata oluştu veya çalınan bir şey yok.
        </div>
    </div>

    <script>
        // WIDGET_TOKEN'ı global scope'a almak için
        window.WIDGET_TOKEN = "{{ widget_token|safe }}";
        // API endpoint URL'ini global scope'a almak için
        window.DATA_ENDPOINT = "{{ data_endpoint|safe }}";
    </script>
    <script src="/static/js/spotify/widget-manager/widgets/widget_neon.js"></script>
</body>
</html>
