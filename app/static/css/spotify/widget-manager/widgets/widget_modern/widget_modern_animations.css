/**
 * widget_modern_animations.css
 *
 * Modern Spotify widget'ı için gelişmiş ve koordineli animasyon setleri.
 * Bu dosya, widget_modern.js tarafından dinamik olarak eklenen sınıfları kullanarak
 * giriş, şarkı geçişi ve çıkış animasyonlarını yönetir.
 *
 * Animasyonlar, HTML'deki `data-` özniteliklerinde belirtilen temel isme göre
 * isimlendirilmiş ve JavaScript tarafından bu isme ekler yapılarak tetiklenir.
 * Örn: data-transition-animation-class="modern-content-pop" ise, JS bu ismi kullanarak
 * `.modern-content-pop-album-art-out` gibi sınıfları elementlere uygular.
 */

/* ==========================================================================
   1. ANIMATION KEYFRAMES (Animasyonların Temel Hareket Tanımları)
   ========================================================================== */

@keyframes kf-fade-in {
    from { opacity: 0; }
    to { opacity: 1; }
}

@keyframes kf-fade-out {
    from { opacity: 1; }
    to { opacity: 0; }
}

@keyframes kf-slide-in-from-bottom {
    from {
        opacity: 0;
        transform: translateY(25px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

@keyframes kf-slide-out-to-bottom {
    from {
        opacity: 1;
        transform: translateY(0);
    }
    to {
        opacity: 0;
        transform: translateY(25px);
    }
}

@keyframes kf-pop-in {
    from {
        opacity: 0;
        transform: scale(0.95);
    }
    to {
        opacity: 1;
        transform: scale(1);
    }
}

@keyframes kf-pop-out {
    from {
        opacity: 1;
        transform: scale(1);
    }
    to {
        opacity: 0;
        transform: scale(0.95);
    }
}

@keyframes kf-slide-in-from-right {
    from {
        transform: translateX(100%);
        opacity: 1; /* Ensure visible if previously hidden */
    }
    to {
        transform: translateX(0%);
        opacity: 1;
    }
}

@keyframes kf-slide-out-to-left {
    from {
        transform: translateX(0%);
        opacity: 1; /* Ensure visible */
    }
    to {
        transform: translateX(-100%);
        opacity: 1; /* Stays visible as it slides out */
    }
}

/* ==========================================================================
   2. BAŞLANGIÇ DURUMLARI (Animasyon Öncesi Elementleri Gizlemek İçin)
   ========================================================================== */
/* JS, animasyon başlamadan önce ana konteynere .animating sınıfını ekler. */
.modern-widget.animating .widget-album-art-main,
.modern-widget.animating .widget-album-art-background,
.modern-widget.animating .widget-track-info > *,
.modern-widget.animating .widget-player-controls,
.modern-widget.animating .widget-spotify-logo {
    opacity: 0;
}


/* ==========================================================================
   3. GİRİŞ ANİMASYONU (TİP: modern-fade-in-up)
   ========================================================================== */

/* Arka plan ve ana kapak resmi için */
.modern-fade-in-up-art {
    animation: kf-fade-in 0.8s ease-out forwards;
}

/* Şarkı ve sanatçı adı gibi metinler için */
.modern-fade-in-up-text {
    animation: kf-slide-in-from-bottom 0.6s ease-out forwards;
}

/* Player kontrolleri (progress bar ve zaman) için */
.modern-fade-in-up-controls {
    animation: kf-slide-in-from-bottom 0.6s ease-out forwards;
    animation-delay: 0.15s; /* Metinlerden biraz sonra başlasın */
}

/* Spotify logosu için */
.modern-fade-in-up-logo {
    animation: kf-fade-in 0.7s ease-out forwards;
    animation-delay: 0.2s; /* En son bu gelsin */
}


/* ==========================================================================
   4. ŞARKI GEÇİŞ ANİMASYONU (TİP: modern-content-pop)
   ========================================================================== */

/* --- ÇIKIŞ (OUT) FAZI --- */
.modern-content-pop-art-out {
    animation: kf-pop-out 0.4s ease-in forwards;
}
.modern-content-pop-text-out {
    animation: kf-slide-out-to-bottom 0.35s ease-in forwards;
}

/* --- GİRİŞ (IN) FAZI --- */
.modern-content-pop-art-in {
    animation: kf-pop-in 0.5s ease-out forwards;
    animation-delay: 0.1s; /* Metinler kaybolduktan sonra gelsin */
}
.modern-content-pop-text-in {
    animation: kf-slide-in-from-bottom 0.5s ease-out forwards;
    animation-delay: 0.15s;
}


/* ==========================================================================
   5. SAYFA ÇIKIŞ ANİMASYONU (TİP: modern-fade-out)
   ========================================================================== */
.modern-fade-out {
    animation: kf-fade-out 0.5s ease-out forwards;
}

/* ==========================================================================
   6. SLIDE GİRİŞ ANİMASYONU (TİP: modern-slide-in)
   ========================================================================== */
.modern-slide-in-art,
.modern-slide-in-text,
.modern-slide-in-controls,
.modern-slide-in-logo {
    animation-duration: 0.6s;
    animation-timing-function: ease-out;
    animation-fill-mode: forwards;
    animation-name: kf-slide-in-from-right;
}

.modern-slide-in-text { animation-delay: 0.05s; }
.modern-slide-in-controls { animation-delay: 0.1s; }
.modern-slide-in-logo { animation-delay: 0.15s; }


/* ==========================================================================
   7. SLIDE ŞARKI GEÇİŞ ANİMASYONU (TİP: modern-slide-transition)
   ========================================================================== */

/* --- ÇIKIŞ (OUT) FAZI --- */
.modern-slide-transition-art-out,
.modern-slide-transition-text-out,
.modern-slide-transition-controls-out { 
    animation-duration: 0.4s;
    animation-timing-function: ease-in;
    animation-fill-mode: forwards;
    animation-name: kf-slide-out-to-left;
}

/* --- GİRİŞ (IN) FAZI --- */
.modern-slide-transition-art-in,
.modern-slide-transition-text-in,
.modern-slide-transition-controls-in {
    animation-duration: 0.5s;
    animation-timing-function: ease-out;
    animation-fill-mode: forwards;
    animation-name: kf-slide-in-from-right;
    animation-delay: 0.05s; /* Start after out-elements begin moving */
}
.modern-slide-transition-text-in { animation-delay: 0.1s; }
.modern-slide-transition-controls-in { animation-delay: 0.15s; }


/* ==========================================================================
   8. SLIDE ÇIKIŞ ANİMASYONU (TİP: modern-slide-out)
   ========================================================================== */
.modern-slide-out-art,
.modern-slide-out-text,
.modern-slide-out-controls,
.modern-slide-out-logo {
    animation-duration: 0.5s;
    animation-timing-function: ease-out;
    animation-fill-mode: forwards;
    animation-name: kf-slide-out-to-left;
}

.modern-slide-out-logo { animation-delay: 0.0s; } /* Example: logo starts first */
.modern-slide-out-controls { animation-delay: 0.05s; }
.modern-slide-out-text { animation-delay: 0.1s; }
.modern-slide-out-art { animation-delay: 0.15s; } /* Example: art is last to leave */