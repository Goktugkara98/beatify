<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Müzik Widget - Yinelenen Hiyerarşik Yapı</title>

    <link rel="stylesheet" href="/static/css/spotify/widget-manager/widgets/spotify_widget_core.css">
    <link rel="stylesheet" href="/static/css/spotify/widget-manager/widgets/widget_modern/widget_modern.css"> 
    <link rel="stylesheet" href="/static/css/spotify/widget-manager/widgets/widget_modern/widget_modern_animations.css"> 
</head>
<body>
    <div id="spotifyWidgetModern" class="WidgetMasterContainer widget-inactive"
         data-token="j5Bp8lwM6iad"
         data-endpoint-template="/spotify/api/widget-data/{TOKEN}">
        
        <!-- WIDGET INSTANCE A (AKTİF) -->
        <div class="WidgetContainer_a">
            <div class="BackgroundLayoutContainer_a">
                <div class="AlbumArtBackgroundLayoutContainer_a">
                    <div class="AlbumArtBackgroundAnimationContainer_a">
                        <img class="AlbumArtBackgroundElement_a" src="" alt="Arka Plan A">
                    </div>
                </div>
            </div>
            <div class="EffectsLayoutContainer_a">
                <div class="GradientOverlayLayoutContainer_a">
                    <div class="GradientOverlayAnimationContainer_a">
                        <div class="GradientOverlayElement_a"></div>
                    </div>
                </div>
            </div>
            <div class="CoverLayoutContainer_a">
                <div class="CoverAnimationContainer_a">
                    <img class="CoverElement_a" src="" alt="Kapak A">
                </div>
            </div>
            <div class="ContentLayoutContainer_a">
                <div class="TrackInfoLayoutContainer_a">
                    <div class="TrackNameLayoutContainer_a">
                        <div class="TrackNameAnimationContainer_a">
                            <h3 class="TrackNameElement_a" title="Şarkı Adı Yükleniyor..."></h3>
                        </div>
                    </div>
                    <div class="ArtistNameLayoutContainer_a">
                        <div class="ArtistNameAnimationContainer_a">
                            <p class="ArtistNameElement_a"></p>
                        </div>
                    </div>
                </div>
                <div class="PlayerControlsLayoutContainer_a">
                    <div class="ProgressBarLayoutContainer_a">
                        <div class="ProgressBarAnimationContainer_a">
                            <div class="ProgressBarElement_a" style="width: 0%;"></div>
                        </div>
                    </div>
                    <div class="TimeDisplayLayoutContainer_a">
                        <div class="CurrentTimeLayoutContainer_a">
                            <div class="CurrentTimeAnimationContainer_a">
                                <span class="CurrentTimeElement_a">0:00</span>
                            </div>
                        </div>
                        <div class="TotalTimeLayoutContainer_a">
                            <div class="TotalTimeAnimationContainer_a">
                                <span class="TotalTimeElement_a">0:00</span>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="BadgeLayoutContainer_a">
                    <div class="ProviderBadgeAnimationContainer_a">
                        <div class="ProviderBadgeElement_a spotify">
                            <img src="/static/img/icons/Spotify/Full_Logo_Green_RGB.svg" alt="Spotify" class="ProviderLogo_a">
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- WIDGET INSTANCE B (PASİF) -->
        <div class="WidgetContainer_b passive">
            <div class="BackgroundLayoutContainer_b passive">
                <div class="AlbumArtBackgroundLayoutContainer_b passive">
                    <div class="AlbumArtBackgroundAnimationContainer_b passive">
                        <img class="AlbumArtBackgroundElement_b passive" src="" alt="Arka Plan B">
                    </div>
                </div>
            </div>
            <div class="EffectsLayoutContainer_b passive">
                <div class="GradientOverlayLayoutContainer_b passive">
                    <div class="GradientOverlayAnimationContainer_b passive">
                        <div class="GradientOverlayElement_b passive"></div>
                    </div>
                </div>
            </div>
            <div class="CoverLayoutContainer_b passive">
                <div class="CoverAnimationContainer_b passive">
                    <img class="CoverElement_b passive" src="" alt="Kapak B">
                </div>
            </div>
            <div class="ContentLayoutContainer_b passive">
                <div class="TrackInfoLayoutContainer_b passive">
                    <div class="TrackNameLayoutContainer_b passive">
                        <div class="TrackNameAnimationContainer_b passive">
                            <h3 class="TrackNameElement_b passive" title=""></h3>
                        </div>
                    </div>
                    <div class="ArtistNameLayoutContainer_b passive">
                        <div class="ArtistNameAnimationContainer_b passive">
                            <p class="ArtistNameElement_b passive"></p>
                        </div>
                    </div>
                </div>
                <div class="PlayerControlsLayoutContainer_b passive">
                    <div class="ProgressBarLayoutContainer_b passive">
                        <div class="ProgressBarAnimationContainer_b passive">
                            <div class="ProgressBarElement_b passive" style="width: 0%;"></div>
                        </div>
                    </div>
                    <div class="TimeDisplayLayoutContainer_b passive">
                        <div class="CurrentTimeLayoutContainer_b passive">
                            <div class="CurrentTimeAnimationContainer_b passive">
                                <span class="CurrentTimeElement_b passive">0:00</span>
                            </div>
                        </div>
                        <div class="TotalTimeLayoutContainer_b passive">
                            <div class="TotalTimeAnimationContainer_b passive">
                                <span class="TotalTimeElement_b passive">0:00</span>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="BadgeLayoutContainer_b passive">
                    <div class="ProviderBadgeAnimationContainer_b passive">
                        <div class="ProviderBadgeElement_b spotify passive">
                            <img src="/static/img/icons/Spotify/Full_Logo_Green_RGB.svg" alt="Spotify" class="ProviderLogo_b passive">
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Backend'den gelen konfigürasyon verileri -->
    <script>
        // Bu kısım sunucu tarafından render edildiğinde dinamik olarak doldurulur.
        window.configData = JSON.parse('{{ config|tojson|safe }}');
    </script>

    <!-- Gerekli JavaScript dosyaları (Bu dosyaların içeriğinin de yeni yapıya göre güncellenmesi gerekecektir) -->
    <script src="/static/js/spotify/widget-manager/widgets/widget_modern/AnimationService.js"></script>
    <script src="/static/js/spotify/widget-manager/widgets/widget_modern/ContentUpdaterService.js"></script>
    <script src="/static/js/spotify/widget-manager/widgets/widget_modern/WidgetDOMManager.js"></script>
    <script src="/static/js/spotify/widget-manager/widgets/widget_modern/SpotifyStateService.js"></script>
    <script src="/static/js/spotify/widget-manager/widgets/widget_modern/main.js"></script>

</body>
</html>
