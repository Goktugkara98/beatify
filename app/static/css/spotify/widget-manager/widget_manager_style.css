/*
===== WIDGET MANAGER STYLES =====
1. GENERAL STYLES
    1.1 Root Variables (Them and Color Variables)
    1.2 Typography Variables
    1.3 Widget Creator Layout
        1.3.1 Widget Creator Container
        1.3.2 Header Styles
        1.3.3 Main Container

2. WIDGET SELECTION PANEL
    2.1 Widget Selection Panel Container
    2.2 Panel Header
        2.2.1 Panel Header Typography
    2.3 Widget Types Container
    2.4 Widget Type Card
        2.4.1 Card Base Styles
        2.4.2 Card States (Hover, Selected, Coming Soon)
        2.4.3 Card Icon
        2.4.4 Card Info
        2.4.5 Coming Soon Badge
    2.5 Widget Type Overlay
    2.6 Widget Type Navigation
        2.6.1 Navigation Buttons
        2.6.2 Navigation Indicators
        2.6.3 Navigation Animations
    2.7 Responsive Styles for Widget Selection

3. WIDGET CUSTOMIZATION AREA
    3.1 Customization Container
    3.2 Customization Panel
    3.3 Panel Header
    3.4 Panel Actions
    3.5 Preview Panel
        3.5.1 Preview Area
        3.5.2 Device Frame
        3.5.3 Widget Preview
    3.6 Device Switcher
    3.7 Options Panel
        3.7.1 Customization Tabs
        3.7.2 Option Groups
            3.7.2.1 Size and Shape Options
            3.7.2.2 Color Options
            3.7.2.3 Typography Options <----- Grouped Font Properties Here
            3.7.2.4 Content Options
            3.7.2.5 Effects Options
            3.7.2.6 Border Options
        3.7.3 Option Rows
        3.7.4 Size Selector
        3.7.5 Custom Size Inputs
        3.7.6 Slider Control
        3.7.7 Color Picker
        3.7.8 Toggle Switch
        3.7.9 Font Selector
        3.7.10 Visibility Options

4. MODAL STYLES
    4.1 Modal Overlay
    4.2 Modal Container
    4.3 Modal Header
    4.4 Modal Content
    4.5 Code Container
    4.6 Copy Button
    4.7 Modal Footer

5. WIDGET PREVIEW STYLES
    5.1 Now Playing Widget
    5.2 Album Art
    5.3 Track Info
    5.4 Progress Bar

6. RESPONSIVE STYLES
    6.1 Large Screens (max-width: 992px)
    6.2 Medium Screens (max-width: 768px)
    6.3 Small Screens (max-width: 576px)
    6.4 Extra Small Screens (max-width: 480px)
*/


/* ===== 1. GENERAL STYLES ===== */

/* 1.1 Root Variables (Theme and Color Variables) */
:root {
    --spotify-color: #1DB954;
    --spotify-dark: #1aa34a;
    --spotify-light: #1ed760;
    --accent-color: #1DB954;

    /* Text Colors */
    --text-primary: #FFFFFF;
    --text-secondary: #B3B3B3;
    --text-tertiary: #727272;

    /* Background Colors */
    --bg-dark: #121212;
    --bg-darker: #0a0a0a;
    --bg-lighter: #181818;
    --card-bg: rgba(24, 24, 24, 0.8);
    --card-bg-light: rgba(30, 30, 30, 0.8);
    --card-bg-dark: rgba(18, 18, 18, 0.8);

    /* Border and Shadow Colors */
    --border-color: rgba(255, 255, 255, 0.1);
    --border-hover: rgba(255, 255, 255, 0.2);
    --shadow-color: rgba(0, 0, 0, 0.3);

    /* Transition Durations */
    --transition-fast: 0.2s ease;
    --transition-normal: 0.3s ease;
    --transition-slow: 0.5s ease;

    /* Border Radii */
    --radius-sm: 4px;
    --radius-md: 8px;
    --radius-lg: 12px;
    --radius-xl: 16px;
}

/* 1.2 Typography Variables */
:root {
    --font-family-base: 'Montserrat', sans-serif;
    --font-size-base: 16px;

    --font-size-h1: 2.8rem;
    --font-weight-h1: 700;

    --font-size-h2: 1.8rem;
    --font-weight-h2: 700;

    --font-size-h3: 1.4rem;
    --font-weight-h3: 600;

    --font-size-card-title: 1.1rem;
    --font-weight-card-title: 600;

    --font-size-p-large: 1.2rem;
    --font-size-p-regular: 1rem;
    --font-size-p-medium: 0.9rem;
    --font-size-p-small: 0.85rem;
    --font-size-p-xsmall: 0.75rem;
    --font-size-badge: 0.7rem;
    --font-size-code: 0.9rem;

    --font-weight-regular: 400;
    --font-weight-medium: 500;
    --font-weight-semibold: 600;
    --font-weight-bold: 700;

    --line-height-base: 1.5;
    --line-height-paragraph: 1.4;
}


/* 1.3 Widget Creator Layout */

/* 1.3.1 Widget Creator Container */
.widget-creator {
    display: flex;
    flex-direction: column;
    margin: 0 auto;
    padding: 20px 0;
    color: var(--text-primary);
    gap: 40px;
    font-family: var(--font-family-base);
}


/* 1.3.2 Header Styles */
.widget-creator-header {
    text-align: center;
    margin-bottom: 20px;
}

.widget-creator-header h1 {
    font-size: var(--font-size-h1);
    font-weight: var(--font-weight-h1);
    margin-bottom: 15px;
    background: linear-gradient(90deg, var(--primary-color), var(--primary-light));
    -webkit-background-clip: text;
    background-clip: text;
    -webkit-text-fill-color: transparent;
    display: inline-block;
}

.widget-creator-header p {
    font-size: var(--font-size-p-large);
    color: var(--text-secondary);
    max-width: 600px;
    margin: 0 auto;
}


/* 1.3.3 Main Container */
.widget-creator-container {
    display: flex;
    flex-direction: column;
    gap: 30px;
    background-color: rgba(18, 18, 18, 0.6);
    border-radius: var(--radius-xl);
    overflow: hidden;
    box-shadow: 0 10px 30px var(--shadow-color);
    backdrop-filter: blur(10px);
    -webkit-backdrop-filter: blur(10px);
    border: 1px solid var(--border-color);
}


/* ===== 2. WIDGET SELECTION PANEL ===== */

/* 2.1 Widget Selection Panel Container */
.widget-selection-panel {
    background: linear-gradient(145deg, var(--bg-lighter), var(--bg-dark));
    border-radius: var(--radius-lg);
    padding: 25px;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
    margin-bottom: 30px;
    position: relative;
    overflow: hidden;
    border: 1px solid var(--border-color);
}


/* 2.2 Panel Header */
.panel-header {
    text-align: center;
    margin-bottom: 25px;
}

/* 2.2.1 Panel Header Typography */
.panel-header h2 {
    font-size: var(--font-size-h2);
    font-weight: var(--font-weight-h2);
    margin-bottom: 8px;
    background: linear-gradient(90deg, var(--primary-color), var(--primary-light));
    -webkit-background-clip: text;
    background-clip: text;
    color: transparent;
}

.panel-header p {
    color: var(--text-secondary);
    font-size: var(--font-size-p-regular);
}


/* 2.3 Widget Types Container */
.widget-types-container {
    display: flex;
    gap: 15px;
    overflow-x: auto;
    padding: 10px 5px;
    scroll-behavior: smooth;
    -ms-overflow-style: none;  /* Hide scrollbar for IE and Edge */
    scrollbar-width: none;  /* Hide scrollbar for Firefox */
    margin-bottom: 15px;
    position: relative;
}

.widget-types-container::-webkit-scrollbar {
    display: none; /* Hide scrollbar for Chrome, Safari, and Opera */
}


/* 2.4 Widget Type Card */
.widget-type-card {
    flex: 0 0 220px;
    background: linear-gradient(145deg, var(--card-bg-light), var(--card-bg-dark));
    border-radius: var(--radius-lg);
    padding: 18px;
    position: relative;
    transition: all var(--transition-normal);
    cursor: pointer;
    display: flex;
    flex-direction: column;
    gap: 12px;
    border: 1px solid var(--border-color);
    overflow: hidden;
    min-height: 140px;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
}

/* 2.4.1 Card Base Styles - These styles are already included in the base .widget-type-card class above */


/* 2.4.2 Card States (Hover, Selected, Coming Soon) */
.widget-type-card:hover {
    transform: translateY(-5px);
    box-shadow: 0 8px 20px rgba(0, 0, 0, 0.2);
    border-color: var(--border-hover);
}

.widget-type-card.selected {
    border: 2px solid var(--primary-color);
    box-shadow: 0 0 15px rgba(29, 185, 84, 0.3);
}

.widget-type-card.coming-soon {
    opacity: 0.7;
    cursor: not-allowed;
}


/* 2.4.3 Card Icon */
.widget-type-icon {
    width: 40px;
    height: 40px;
    background: linear-gradient(135deg, var(--primary-color), var(--primary-light));
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    color: white;
    font-size: var(--font-size-p-large); /* Changed from 1.2rem */
    margin-bottom: 5px;
}


/* 2.4.4 Card Info */
.widget-type-info {
    flex-grow: 1;
    display: flex;
    flex-direction: column;
    gap: 5px;
}

.widget-type-info h3 {
    font-size: var(--font-size-card-title); /* Changed from 1.1rem */
    font-weight: var(--font-weight-card-title); /* Changed from 600 */
    color: var(--text-primary);
    margin: 0;
}

.widget-type-info p {
    font-size: var(--font-size-p-small); /* Changed from 0.85rem */
    color: var(--text-secondary);
    margin: 0;
    line-height: var(--line-height-paragraph); /* Changed from 1.4 */
}


/* 2.4.5 Coming Soon Badge */
.coming-soon-badge {
    display: inline-block;
    background-color: rgba(255, 255, 255, 0.1);
    color: var(--text-secondary);
    padding: 3px 8px;
    border-radius: 12px;
    font-size: var(--font-size-badge); /* Changed from 0.7rem */
    margin-top: 5px;
    align-self: flex-start;
}


/* 2.5 Widget Type Overlay */
.widget-type-overlay {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-color: rgba(29, 185, 84, 0.9);
    display: flex;
    align-items: center;
    justify-content: center;
    opacity: 0;
    transition: opacity var(--transition-fast);
    pointer-events: none;
    border-radius: var(--radius-lg);
}

.widget-type-overlay span {
    color: white;
    font-weight: var(--font-weight-semibold); /* Changed from 600 */
    font-size: var(--font-size-card-title); /* Changed from 1.1rem */
}

.widget-type-card.selected .widget-type-overlay {
    opacity: 0;
}

.widget-type-card.selected:hover .widget-type-overlay {
    opacity: 0.9;
}


/* 2.6 Widget Type Navigation */
.widget-type-navigation {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 15px;
    margin-top: 15px;
    margin-bottom: 10px; /* Added margin-bottom for better spacing */
}


/* 2.6.1 Navigation Buttons */
.nav-btn {
    background-color: var(--card-bg-light);
    border: none;
    width: 40px;
    height: 40px;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
    transition: all 0.2s ease;
    color: var(--text-secondary);
    z-index: 2;
}

.nav-btn:hover {
    background-color: var(--primary-color);
    color: white;
    box-shadow: 0 0 10px rgba(29, 185, 84, 0.3);
}

.nav-btn:disabled {
    opacity: 0.5;
    cursor: not-allowed;
}

/* 2.6.3 Navigation Animations */
/* Pulse animation for navigation hint */
@keyframes pulse {
    0% {
        box-shadow: 0 0 0 0 rgba(29, 185, 84, 0.7);
    }
    70% {
        box-shadow: 0 0 0 10px rgba(29, 185, 84, 0);
    }
    100% {
        box-shadow: 0 0 0 0 rgba(29, 185, 84, 0);
    }
}

.pulse-hint {
    animation: pulse 2s infinite;
}

/* Fade in/out and slide right animations for scroll hint */
@keyframes fade-in-out {
    from { opacity: 0.5; }
    to { opacity: 1; }
}

@keyframes slide-right {
    0% { transform: translateX(-5px); }
    50% { transform: translateX(5px); }
    100% { transform: translateX(-5px); }
}


/* Widget Type Badge (Positioned within Widget Type Card, but could be considered navigation hint) */
.widget-type-badge {
    position: absolute;
    top: 15px;
    right: 15px;
    background: linear-gradient(135deg, #ff7e5f, #feb47b);
    color: white;
    font-size: var(--font-size-badge); /* Changed from 0.8rem - corrected to match coming soon badge size */
    font-weight: var(--font-weight-semibold); /* Changed from 600 */
    padding: 5px 10px;
    border-radius: 20px;
    box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
}


/* 2.7 Responsive Styles for Widget Selection */
/* Media Queries for Widget Selection Panel */
@media (max-width: 768px) {
    .widget-type-card {
        flex: 0 0 200px;
        min-height: 150px;
        padding: 15px;
    }

    .widget-type-icon {
        width: 35px;
        height: 35px;
    }

    .widget-type-icon i {
        font-size: var(--font-size-p-regular); /* Changed from 1rem */
    }

    .widget-type-info h3 {
        font-size: var(--font-size-p-regular); /* Changed from 1rem */
    }

    .widget-type-info p {
        font-size: var(--font-size-p-xsmall); /* Changed from 0.8rem */
    }
}

@media (max-width: 480px) {
    .widget-selection-panel {
        padding: 15px;
    }

    .panel-header h2 {
        font-size: 1.5rem; /* This was not set as variable before - consider adding if re-used elsewhere or adjusting variable size */
    }

    .panel-header p {
        font-size: var(--font-size-p-medium); /* Changed from 0.9rem */
    }

    .widget-type-card {
        flex: 0 0 180px;
        min-height: 140px;
        padding: 12px;
    }
}


/* ===== 3. WIDGET CUSTOMIZATION AREA ===== */

/* 3.1 Customization Container */
.widget-customization-container {
    display: flex;
    flex-direction: column;
    background-color: rgba(18, 18, 18, 0.6);
    border-radius: var(--radius-xl);
    overflow: hidden;
    box-shadow: 0 10px 30px var(--shadow-color);
    backdrop-filter: blur(10px);
    -webkit-backdrop-filter: blur(10px);
    border: 1px solid var(--border-color);
    margin-top: 20px;
}


/* 3.2 Customization Panel */
.customization-panel {
    background: linear-gradient(145deg, var(--bg-lighter), var(--bg-dark));
    border-radius: var(--radius-lg);
    padding: 25px;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
    height: 100%;
    display: flex;
    flex-direction: column;
    border: 1px solid var(--border-color);
}


/* 3.3 Panel Header */
.panel-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 20px;
    padding-bottom: 15px;
    border-bottom: 1px solid var(--border-color);
}

.panel-header h3 {
    font-size: var(--font-size-h3); /* Changed from 1.4rem */
    font-weight: var(--font-weight-semibold); /* Changed from 600 */
    margin: 0;
    display: flex;
    align-items: center;
    gap: 10px;
}

.panel-header h3 i {
    color: var(--primary-color);
}


/* 3.4 Panel Actions */
.panel-actions {
    display: flex;
    gap: 10px;
}

.action-button {
    background: rgba(255, 255, 255, 0.1);
    border: none;
    border-radius: var(--radius-md);
    color: var(--text-secondary);
    width: 36px;
    height: 36px;
    display: flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
    transition: all var(--transition-fast);
    font-weight: var(--font-weight-regular); /* Added for consistency, although might be default */
}

.action-button:hover {
    background: rgba(255, 255, 255, 0.2);
    color: var(--text-primary);
}

.action-button.primary {
    background: var(--primary-color);
    color: white;
    padding: 0 20px;
    width: auto;
    height: 40px;
    font-weight: var(--font-weight-medium); /* Changed from 500 */
}

.action-button.primary:hover {
    background: var(--primary-dark);
}


/* 3.5 Preview Panel */
.preview-panel {
    position: relative;
}


/* 3.5.1 Preview Area */
.preview-area {
    flex-grow: 1;
    display: flex;
    align-items: center;
    justify-content: center;
    padding: 20px;
    min-height: 300px;
    background-color: rgba(10, 10, 10, 0.3);
    border-radius: var(--radius-md);
    margin-bottom: 20px;
}


/* 3.5.2 Device Frame */
.device-frame {
    position: relative;
    transition: all var(--transition-normal);
    max-width: 100%;
    overflow: hidden;
}


/* 3.5.3 Widget Preview */
.widget-preview {
    background: transparent;
    border-radius: var(--radius-md);
    overflow: hidden;
    transition: all var(--transition-normal);
    position: relative;
    width: 300px;
    height: 150px;
    display: flex;
    align-items: center;
    justify-content: center;
}


/* 3.6 Device Switcher */
.device-switcher {
    display: flex;
    justify-content: center;
    gap: 15px;
    margin-bottom: 20px;
}

.device-button {
    background: rgba(255, 255, 255, 0.05);
    border: 1px solid var(--border-color);
    border-radius: var(--radius-md);
    color: var(--text-tertiary);
    padding: 8px 15px;
    display: flex;
    align-items: center;
    gap: 8px;
    cursor: pointer;
    transition: all var(--transition-fast);
    font-size: var(--font-size-p-medium); /* Changed from default paragraph font-size to medium */
}

.device-button:hover {
    background: rgba(255, 255, 255, 0.1);
    color: var(--text-secondary);
}

.device-button.active {
    background: rgba(29, 185, 84, 0.1);
    border-color: var(--primary-color);
    color: var(--primary-color);
}

.preview-actions { /* Although mentioned in the content list, it's not used in provided CSS. Keeping comment for completeness */
    display: flex;
    justify-content: center;
}


/* 3.7 Options Panel */
.options-panel {
    overflow-y: auto;
    max-height: 600px;
}


/* 3.7.1 Customization Tabs */
.customization-tabs {
    display: flex;
    gap: 10px;
    margin-bottom: 20px;
    border-bottom: 1px solid var(--border-color);
    padding-bottom: 15px;
}

.tab-button {
    background: rgba(255, 255, 255, 0.05);
    border: none;
    border-radius: var(--radius-md);
    color: var(--text-secondary);
    padding: 8px 15px;
    cursor: pointer;
    transition: all var(--transition-fast);
    font-weight: var(--font-weight-medium); /* Changed from 500 */
}

.tab-button:hover {
    background: rgba(255, 255, 255, 0.1);
    color: var(--text-primary);
}

.tab-button.active {
    background: var(--primary-color);
    color: white;
}

.tab-content {
    display: none;
}

.tab-content.active {
    display: block;
}


/* 3.7.2 Option Groups */
.option-group {
    margin-bottom: 25px;
}

.option-group h4 {
    font-size: var(--font-size-card-title); /* Changed from 1.1rem */
    font-weight: var(--font-weight-semibold); /* Changed from 600 */
    margin-bottom: 15px;
    color: var(--text-primary);
    padding-bottom: 8px;
    border-bottom: 1px solid rgba(255, 255, 255, 0.05);
}


    /* 3.7.2.1 Size and Shape Options */
    #appearance-tab .option-group:nth-child(1) {} /* Target Size and Shape Options if needed */

    /* 3.7.2.2 Color Options */
    #appearance-tab .option-group:nth-child(2) {} /* Target Color Options if needed */

    /* 3.7.2.3 Typography Options */
    #appearance-tab .option-group:nth-child(3) { /* Target Typography Options */
        /* Any specific styling for the typography group container */
    }

    /* 3.7.2.4 Content Options */
    #content-tab .option-group {} /* Target Content Options if needed */

    /* 3.7.2.5 Effects Options */
    #advanced-tab .option-group:nth-child(1) {} /* Target Effects Options if needed */

    /* 3.7.2.6 Border Options */
    #advanced-tab .option-group:nth-child(2) {} /* Target Border Options if needed */


/* 3.7.3 Option Rows */
.option-row {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 15px;
    flex-wrap: wrap;
}

.option-row label {
    color: var(--text-secondary);
    font-size: var(--font-size-p-medium); /* Changed from 0.95rem */
    flex: 1;
    min-width: 120px;
}


/* 3.7.4 Size Selector */
.size-selector {
    display: flex;
    gap: 8px;
}

.size-option {
    background: rgba(255, 255, 255, 0.05);
    border: 1px solid var(--border-color);
    border-radius: var(--radius-md);
    color: var(--text-secondary);
    padding: 6px 12px;
    cursor: pointer;
    transition: all var(--transition-fast);
    font-size: var(--font-size-p-medium); /* Changed from 0.9rem */
}

.size-option:hover {
    background: rgba(255, 255, 255, 0.1);
}

.size-option.active {
    background: rgba(29, 185, 84, 0.1);
    border-color: var(--primary-color);
    color: var(--primary-color);
}


/* 3.7.5 Custom Size Inputs */
.custom-size-row {
    margin-top: 10px;
}

.custom-size-inputs {
    display: flex;
    gap: 15px;
    width: 100%;
}

.input-group {
    flex: 1;
}

.input-with-unit {
    position: relative;
    display: flex;
    align-items: center;
}

.input-with-unit input {
    width: 100%;
    background: rgba(255, 255, 255, 0.05);
    border: 1px solid var(--border-color);
    border-radius: var(--radius-md);
    color: var(--text-primary);
    padding: 8px 35px 8px 12px;
    transition: all var(--transition-fast);
    font-family: var(--font-family-base); /* Ensure font consistency in inputs */
    font-size: var(--font-size-base); /* Ensure font size consistency in inputs */
}

.input-with-unit input:focus {
    border-color: var(--primary-color);
    outline: none;
}

.input-with-unit .unit {
    position: absolute;
    right: 12px;
    color: var(--text-tertiary);
    pointer-events: none;
    font-size: var(--font-size-p-medium); /* Adjusted to a slightly smaller size for units */
}


/* 3.7.6 Slider Control */
.slider-control {
    display: flex;
    align-items: center;
    gap: 15px;
    flex: 2;
}

.slider {
    -webkit-appearance: none;
    appearance: none;
    width: 100%;
    height: 6px;
    border-radius: 3px;
    background: rgba(255, 255, 255, 0.1);
    outline: none;
}

.slider::-webkit-slider-thumb {
    -webkit-appearance: none;
    appearance: none;
    width: 18px;
    height: 18px;
    border-radius: 50%;
    background: var(--primary-color);
    cursor: pointer;
    transition: all var(--transition-fast);
}

.slider::-moz-range-thumb {
    width: 18px;
    height: 18px;
    border-radius: 50%;
    background: var(--primary-color);
    cursor: pointer;
    transition: all var(--transition-fast);
    border: none;
}

.slider::-webkit-slider-thumb:hover {
    transform: scale(1.1);
}

.slider::-moz-range-thumb:hover {
    transform: scale(1.1);
}

.slider-value {
    min-width: 45px;
    text-align: right;
    color: var(--text-secondary);
    font-size: var(--font-size-p-medium); /* Changed from 0.9rem */
}


/* 3.7.7 Color Picker */
.color-picker-container {
    display: flex;
    align-items: center;
    gap: 10px;
}

.color-preview {
    width: 30px;
    height: 30px;
    border-radius: 50%;
    border: 2px solid var(--border-color);
    cursor: pointer;
    transition: all var(--transition-fast);
    position: relative;
    overflow: hidden;
}

.color-preview:hover {
    transform: scale(1.05);
}

.color-preview.with-opacity::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: repeating-conic-gradient(#808080 0% 25%, transparent 0% 50%) 50% / 8px 8px;
    z-index: -1;
}

.color-input {
    position: absolute;
    opacity: 0;
    width: 100%;
    height: 100%;
    cursor: pointer;
}

.color-presets {
    display: flex;
    gap: 5px;
    margin-top: 5px;
}

.color-preset {
    width: 20px;
    height: 20px;
    border-radius: 50%;
    cursor: pointer;
    border: 1px solid var(--border-color);
    transition: transform 0.2s ease;
}

.color-preset:hover {
    transform: scale(1.2);
}


/* 3.7.8 Toggle Switch */
.toggle-switch {
    position: relative;
    display: inline-block;
    width: 50px;
    height: 26px;
}

.toggle-switch input {
    opacity: 0;
    width: 0;
    height: 0;
}

.toggle-slider {
    position: absolute;
    cursor: pointer;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background-color: rgba(255, 255, 255, 0.1);
    transition: var(--transition-fast);
    border-radius: 34px;
}

.toggle-slider:before {
    position: absolute;
    content: "";
    height: 18px;
    width: 18px;
    left: 4px;
    bottom: 4px;
    background-color: white;
    transition: var(--transition-fast);
    border-radius: 50%;
}

input:checked + .toggle-slider {
    background-color: var(--primary-color);
}

input:checked + .toggle-slider:before {
    transform: translateX(24px);
}


/* 3.7.9 Font Selector */
.font-selector { /* Consider replacing this with .select-container and .custom-select to unify styles, see below */
    background: rgba(255, 255, 255, 0.05);
    border: 1px solid var(--border-color);
    border-radius: var(--radius-md);
    color: var(--text-primary);
    padding: 8px 12px;
    width: 100%;
    max-width: 200px;
    transition: all var(--transition-fast);
    font-family: var(--font-family-base); /* Ensuring font family is applied */
    font-size: var(--font-size-base); /* Ensuring base font size is applied */
}

.font-selector:focus {
    border-color: var(--primary-color);
    outline: none;
}

/* Reusable Select Container and Custom Select for consistent styling across select elements if there are more */
.select-container {
    position: relative;
    display: inline-block; /* or block based on layout needs */
}

.custom-select {
    appearance: none; /* remove default styling */
    -webkit-appearance: none; /* for Safari */
    -moz-appearance: none; /* For Firefox */
    background-color: rgba(255, 255, 255, 0.05);
    border: 1px solid var(--border-color);
    border-radius: var(--radius-md);
    color: var(--text-primary);
    padding: 8px 30px 8px 12px; /* add space for the arrow */
    cursor: pointer;
    font-size: var(--font-size-p-medium); /* Changed to medium paragraph size from 0.9rem */
    transition: border-color var(--transition-fast);
    width: 100%; /* or specify width as needed */
    max-width: 200px; /* Example max-width */
    outline: none; /* Remove default focus outline */
    font-family: var(--font-family-base); /* Ensuring font family is applied */
}

.custom-select:focus {
    border-color: var(--primary-color);
}

/* Style the dropdown arrow - using ::after pseudo-element for customization */
.select-container::after {
    content: '\25BC'; /* Unicode for a down arrow */
    position: absolute;
    top: 50%;
    right: 10px;
    transform: translateY(-50%);
    color: var(--text-secondary);
    pointer-events: none; /* Make sure it doesn't interfere with clicks */
    font-size: var(--font-size-p-medium); /* Adjusted arrow size to paragraph medium size */
}


/* 3.7.10 Visibility Options */
.visibility-options {
    display: flex;
    flex-direction: column;
    gap: 12px;
    width: 100%;
}

.visibility-option {
    display: flex;
    justify-content: space-between;
    align-items: center;
}

.visibility-option label {
    display: flex;
    align-items: center;
    gap: 8px;
    cursor: pointer;
    color: var(--text-secondary); /* Ensure label text color is set using variable */
    font-size: var(--font-size-p-medium); /* Set label font size to paragraph medium */
}

.visibility-option i {
    color: var(--primary-color);
    font-size: var(--font-size-p-regular); /* Changed from 1rem */
    width: 20px;
    text-align: center;
}


/* ===== 4. MODAL STYLES ===== */

/* 4.1 Modal Overlay */
.modal-overlay {
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background-color: rgba(0, 0, 0, 0.8);
    display: flex;
    align-items: center;
    justify-content: center;
    z-index: 1000;
    opacity: 0;
    visibility: hidden;
    transition: all var(--transition-normal);
}

.modal-overlay.active {
    opacity: 1;
    visibility: visible;
}


/* 4.2 Modal Container */
.modal-container {
    background: linear-gradient(145deg, var(--bg-lighter), var(--bg-dark));
    border-radius: var(--radius-lg);
    padding: 30px;
    width: 90%;
    max-width: 600px;
    max-height: 90vh;
    overflow-y: auto;
    position: relative;
    box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
    border: 1px solid var(--border-color);
    transform: translateY(20px);
    transition: all var(--transition-normal);
    font-family: var(--font-family-base); /* Ensure font-family in Modal is consistent */
    font-size: var(--font-size-base); /* Ensure base font size in Modal */
}

.modal-overlay.active .modal-container {
    transform: translateY(0);
}


/* 4.3 Modal Header */
.modal-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 20px;
    padding-bottom: 15px;
    border-bottom: 1px solid var(--border-color);
}

.modal-header h3 {
    font-size: var(--font-size-h3); /* Changed from 1.6rem - reduced to h3 size for consistency */
    font-weight: var(--font-weight-semibold); /* Changed from 600 */
    margin: 0;
    display: flex;
    align-items: center;
    gap: 10px;
}

.modal-header h3 i {
    color: var(--primary-color);
}

.modal-close {
    background: none;
    border: none;
    color: var(--text-secondary);
    font-size: 1.5rem;
    cursor: pointer;
    transition: all var(--transition-fast);
}

.modal-close:hover {
    color: var(--text-primary);
    transform: rotate(90deg);
}


/* 4.4 Modal Content */
.modal-content {
    margin-bottom: 20px;
}


/* 4.5 Code Container */
.code-container {
    background: rgba(0, 0, 0, 0.3);
    border-radius: var(--radius-md);
    padding: 15px;
    position: relative;
    margin-bottom: 20px;
}

.code-content {
    color: var(--text-secondary);
    font-family: monospace;
    white-space: pre-wrap;
    word-break: break-all;
    max-height: 200px;
    overflow-y: auto;
    padding-right: 10px;
    line-height: var(--line-height-base); /* Use base line height */
    font-size: var(--font-size-code); /* Apply specific font size for code */
}


/* 4.6 Copy Button */
.copy-button {
    position: absolute;
    top: 10px;
    right: 10px;
    background: rgba(255, 255, 255, 0.1);
    border: none;
    border-radius: var(--radius-sm);
    color: var(--text-secondary);
    width: 30px;
    height: 30px;
    display: flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
    transition: all var(--transition-fast);
    font-size: var(--font-size-p-regular); /* Changed from default to regular paragraph size for icon */
}

.copy-button:hover {
    background: rgba(255, 255, 255, 0.2);
    color: var(--text-primary);
}


/* 4.7 Modal Footer */
.modal-footer {
    display: flex;
    justify-content: flex-end;
    gap: 15px;
}


/* ===== 5. WIDGET PREVIEW STYLES ===== */

/* 5.1 Now Playing Widget */
.widget-now-playing {
    width: 100%;
    height: 100%;
    display: flex;
    align-items: center;
    padding: 15px;
    position: relative;
    overflow: hidden;
    font-family: var(--font-family-base);
    font-size: var(--font-size-base);
}


/* 5.2 Album Art */
.widget-album-art {
    width: 60px;
    height: 60px;
    border-radius: 8px;
    overflow: hidden;
    flex-shrink: 0;
}

.widget-album-art img {
    width: 100%;
    height: 100%;
    object-fit: cover;
}


/* 5.3 Track Info */
.widget-track-info {
    margin-left: 15px;
    flex-grow: 1;
    overflow: hidden;
}

.widget-track-name {
    font-weight: var(--font-weight-semibold); /* Changed from 600 */
    font-size: var(--font-size-p-regular); /* Changed from 1rem */
    margin-bottom: 5px;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
}

.widget-artist-name {
    font-size: var(--font-size-p-small); /* Changed from 0.85rem */
    opacity: 0.8;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
}


/* 5.4 Progress Bar */
.widget-progress {
    position: absolute;
    bottom: 0;
    left: 0;
    height: 3px;
    background: rgba(255, 255, 255, 0.3);
    width: 100%;
}

.widget-progress-bar {
    height: 100%;
    width: 35%;
    background: var(--primary-color);
}


/* ===== 6. RESPONSIVE STYLES ===== */

/* 6.1 Large Screens (max-width: 992px) */
@media (max-width: 992px) {
    .widget-creator-header h1 {
        font-size: 2.2rem; /* Keeping responsive size as direct value, consider variable if re-used */
    }

    .widget-creator-header p {
        font-size: var(--font-size-p-regular); /* Changed from 1rem */
    }

    .panel-header h2 {
        font-size: 1.5rem; /* Keeping responsive size as direct value, consider variable if re-used */
    }

    .widget-type-card {
        flex: 0 0 180px;
        min-height: 120px;
    }

    .widget-type-icon {
        width: 35px;
        height: 35px;
        font-size: var(--font-size-p-regular); /* Changed from 1rem */
    }

    .widget-type-info h3 {
        font-size: var(--font-size-p-regular); /* Changed from 1rem */
    }

    .widget-type-info p {
        font-size: var(--font-size-p-xsmall); /* Changed from 0.8rem */
    }
}


/* 6.2 Medium Screens (max-width: 768px) */
@media (max-width: 768px) {
    .widget-creator-header h1 {
        font-size: 1.8rem; /* Keeping responsive size as direct value, consider variable if re-used */
    }

    .widget-creator-header p {
        font-size: var(--font-size-p-medium); /* Changed from 0.9rem */
    }

    .panel-header h2 {
        font-size: 1.3rem; /* Keeping responsive size as direct value, consider variable if re-used */
    }

    .customization-panel {
        padding: 15px;
    }

    .option-row {
        flex-direction: column;
        align-items: flex-start;
        gap: 10px;
    }

    .option-row label {
        margin-bottom: 5px;
    }

    .slider-control, .color-picker-container, .size-selector, .custom-size-inputs {
        width: 100%;
    }

    .device-button span {
        display: none;
    }

    .device-button {
        padding: 8px;
        font-size: var(--font-size-p-small); /* Reduced device button text size in medium screens */
    }
}


/* 6.3 Small Screens (max-width: 576px) */
@media (max-width: 576px) {
    .widget-creator-header h1 {
        font-size: 1.6rem; /* Keeping responsive size as direct value, consider variable if re-used */
    }

    .widget-type-card {
        flex: 0 0 160px;
        min-height: 110px;
        padding: 12px;
    }

    .widget-type-icon {
        width: 30px;
        height: 30px;
        font-size: var(--font-size-p-xsmall); /* Changed from 0.9rem */
    }

    .widget-type-info h3 {
        font-size: var(--font-size-p-medium); /* Changed from 0.9rem */
    }

    .widget-type-info p {
        font-size: var(--font-size-badge); /* Changed from 0.75rem - smallest size to badge size */
    }

    .coming-soon-badge {
        font-size: var(--font-size-badge); /* Changed from 0.65rem - keeping consistent badge size */
        padding: 2px 6px;
    }
}


/* 6.4 Extra Small Screens (max-width: 480px) - No specific styles mentioned in content, keeping comment for consistency */
@media (max-width: 480px) {
    /* Extra small screen styles if needed can be added here */
}