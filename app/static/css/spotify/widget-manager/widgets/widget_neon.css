/*
    widget_neon.css (Revize Edilmiş - Neon Tasarım)

    İÇİNDEKİLER:

    1. CSS DEĞİŞKENLERİ (:root)
    2. TEMEL STİLLER
        2.1. body, html
    3. ANA WIDGET KONTEYNERİ
        3.1. .spotify-widget-neon
    4. ARKA PLAN EFEKTLERİ
        4.1. .neon-grid (Neon Izgara Arka Planı)
        4.2. .neon-glow (Neon Parlama Efekti)
    5. WIDGET İÇERİK ALANI
        5.1. .widget-content
    6. ÜST BÖLÜM (BAŞLIK)
        6.1. .widget-header
        6.2. .spotify-logo (Logo Konteyneri)
        6.3. .spotify-logo i (Logo İkonu)
        6.4. .status-indicator (Durum Göstergesi)
        6.5. .now-playing-text (Şimdi Çalıyor Metni)
    7. ORTA BÖLÜM (ALBÜM VE ŞARKI BİLGİLERİ)
        7.1. .track-display (Genel Konteyner)
        7.2. .album-container (Albüm Kapağı ve Disk Konteyneri)
        7.3. .album-art-container (Albüm Kapağı Sarmalayıcısı)
        7.4. .album-art (Albüm Kapağı Resmi)
        7.5. .album-reflection (Albüm Kapağı Yansıması)
        7.6. .vinyl-disc (Plak Diski)
        7.7. .vinyl-disc.playing (Çalan Plak Animasyonu)
        7.8. .vinyl-inner (Plak İçi Detayı)
        7.9. .vinyl-hole (Plak Ortasındaki Delik)
        7.10. .track-info (Şarkı Bilgileri Konteyneri)
        7.11. .track-name (Şarkı Adı)
        7.12. .artist-name (Sanatçı Adı)
    8. SES DALGASI ANİMASYONU
        8.1. .sound-wave (Genel Konteyner)
        8.2. .sound-wave span (Tek Bir Dalga Çubuğu)
        8.3. .sound-wave.paused span (Duraklatılmış Dalga)
    9. ALT BÖLÜM (İLERLEME ÇUBUĞU VE ZAMAN)
        9.1. .progress-container (Genel Konteyner)
        9.2. .time-display (Zaman Gösterimi Konteyneri)
        9.3. .progress-bar-container (İlerleme Çubuğu Sarmalayıcısı)
        9.4. .progress-bar-bg (İlerleme Çubuğu Arka Plan Efekti)
        9.5. .progress-bar-fill (Dolu İlerleme Çubuğu)
    10. HATA MESAJI
        10.1. .error-message (Genel Stil)
        10.2. .error-message.visible (Görünür Durum)
    11. ANİMASYONLAR (@keyframes)
        11.1. @keyframes pulse (Nabız Animasyonu)
        11.2. @keyframes wave (Ses Dalgası Animasyonu)
        11.3. @keyframes rotate (Dönme Animasyonu - Plak)
        11.4. @keyframes gradient-move (Gradyan Hareketi - İlerleme Çubuğu)
        11.5. @keyframes grid-move (Izgara Hareketi - Arka Plan)
    12. MEDYA SORGULARI (RESPONSIVE)
        12.1. @media (max-width: 480px)
*/

/* ============================================= */
/* 1. CSS DEĞİŞKENLERİ (:root)                 */
/* ============================================= */
:root {
    --neon-primary: #0ff;       /* Neon Mavi (Cyan) */
    --neon-secondary: #f0f;     /* Neon Mor (Magenta) */
    --neon-accent: #0f0;        /* Neon Yeşil (Spotify Yeşili) */
    --neon-text: #fff;          /* Parlak Beyaz Metin */
    --dark-bg: #050505;         /* Çok Koyu Arka Plan */
    --dark-surface: #111;       /* Yüzey Rengi (Biraz daha açık) */
    --glow-intensity: 0.75;     /* Parlama Yoğunluğu (Kullanılmıyor) */
}

/* ============================================= */
/* 2. TEMEL STİLLER                            */
/* ============================================= */

/* 2.1. body ve html için temel ayarlar */
body, html {
    font-family: 'Quicksand', sans-serif; /* Neon temasına uygun font */
    background-color: transparent; /* Widget dışı transparan */
    color: var(--neon-text);
    overflow: hidden; /* Sayfa kaydırmasını engelle */
    margin: 0;
    padding: 0;
    display: flex; /* Widget'ı ortalamak için */
    align-items: center;
    justify-content: center;
    min-height: 100vh;
}

/* ============================================= */
/* 3. ANA WIDGET KONTEYNERİ                    */
/* ============================================= */

/* 3.1. Neon widget ana sarmalayıcısı */
.spotify-widget-neon {
    width: 450px; /* Widget genişliği */
    height: 600px; /* Widget yüksekliği */
    background-color: var(--dark-bg);
    border-radius: 12px; /* Yuvarlak köşeler */
    overflow: hidden; /* İçerik taşmasını engelle */
    position: relative; /* Alt elemanların konumlandırılması için */
    box-shadow:
        0 0 10px rgba(0, 255, 255, 0.3), /* Cyan parlama */
        0 0 20px rgba(0, 255, 255, 0.2),
        0 0 30px rgba(0, 255, 255, 0.1);
    padding: 25px; /* İç boşluk */
    display: flex;
    flex-direction: column;
    justify-content: space-between; /* İçeriği dikeyde dağıt */
}

/* ============================================= */
/* 4. ARKA PLAN EFEKTLERİ                      */
/* ============================================= */

/* 4.1. Neon ızgara arka planı */
.neon-grid {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background-image:
        linear-gradient(rgba(0, 255, 255, 0.05) 1px, transparent 1px), /* Yatay çizgiler */
        linear-gradient(90deg, rgba(0, 255, 255, 0.05) 1px, transparent 1px); /* Dikey çizgiler */
    background-size: 20px 20px; /* Izgara boyutu */
    background-position: center center;
    transform: perspective(500px) rotateX(60deg); /* Perspektif efekti */
    transform-origin: center bottom;
    animation: grid-move 20s linear infinite; /* Hareketli ızgara */
    opacity: 0.3; /* Saydamlık */
    z-index: 0; /* En altta */
}

/* 4.2. Genel neon parlama efekti */
.neon-glow {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: radial-gradient(
        circle at 50% 50%,
        rgba(255, 0, 255, 0.15) 0%,   /* Ortada magenta parlama */
        rgba(0, 255, 255, 0.15) 25%,  /* Cyan parlama */
        rgba(0, 0, 0, 0) 70%          /* Kenarlara doğru saydamlaşma */
    );
    pointer-events: none; /* Tıklama olaylarını engelle */
    z-index: 1; /* Izgaranın üzerinde */
}

/* ============================================= */
/* 5. WIDGET İÇERİK ALANI                      */
/* ============================================= */

/* 5.1. Tüm widget içeriğini saran ana konteyner */
.widget-content {
    height: 100%;
    display: flex;
    flex-direction: column;
    justify-content: space-between; /* İçeriği dikeyde dağıt */
    z-index: 10; /* Diğer arka plan efektlerinin üzerinde */
    position: relative; /* Hata mesajı gibi absolut elemanlar için */
}

/* ============================================= */
/* 6. ÜST BÖLÜM (BAŞLIK)                       */
/* ============================================= */

/* 6.1. Logo ve durumu içeren başlık bölümü */
.widget-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 20px;
}

/* 6.2. Spotify logo konteyneri */
.spotify-logo {
    display: flex;
    align-items: center;
}

/* 6.3. Spotify logo ikonu */
.spotify-logo i {
    color: var(--neon-accent); /* Spotify yeşili */
    font-size: 1.8rem;
    text-shadow: 0 0 10px var(--neon-accent); /* Yeşil parlama */
}

/* 6.4. Bağlantı/Çalma durumu göstergesi */
#statusIndicator, /* ID ile de seçilebilir */
.status-indicator { /* Class ile de seçilebilir */
    width: 10px;
    height: 10px;
    border-radius: 50%;
    background-color: var(--neon-accent); /* Başlangıçta yeşil */
    margin-left: 10px; /* Logodan sonra boşluk */
    box-shadow: 0 0 10px var(--neon-accent);
    animation: pulse 2s infinite; /* Nabız animasyonu */
}

/* 6.5. "NOW PLAYING" / "PAUSED" metni */
#nowPlayingText,
.now-playing-text {
    font-family: 'Orbitron', sans-serif; /* Dijital/Tekno font */
    font-size: 0.9rem;
    font-weight: 700;
    letter-spacing: 2px; /* Harf aralığı */
    color: var(--neon-primary); /* Cyan */
    text-shadow: 0 0 5px var(--neon-primary);
}

/* ============================================= */
/* 7. ORTA BÖLÜM (ALBÜM VE ŞARKI BİLGİLERİ)    */
/* ============================================= */

/* 7.1. Albüm kapağı, plak ve şarkı bilgilerini içeren ana bölüm */
.track-display {
    display: flex;
    flex-direction: column;
    align-items: center;
    margin-bottom: 30px; /* Alt boşluk */
    flex-grow: 1; /* Ortadaki alanı doldurur */
    justify-content: center; /* İçeriği dikeyde ortalar */
}

/* 7.2. Albüm kapağı ve plak diskini saran konteyner */
.album-container {
    position: relative; /* Plak diski için */
    width: 250px;
    height: 250px;
    margin-bottom: 30px; /* Şarkı bilgilerinden önce boşluk */
}

/* 7.3. Albüm kapağı resmini ve yansımayı saran konteyner */
.album-art-container {
    position: absolute;
    width: 100%;
    height: 100%;
    z-index: 2; /* Plak diskinin üzerinde */
    perspective: 1000px; /* 3D efektler için (kullanılmıyor) */
}

/* 7.4. Albüm kapağı resmi */
#albumArtNeon,
.album-art {
    width: 100%;
    height: 100%;
    object-fit: cover; /* Resmi kırparak doldur */
    border-radius: 8px; /* Hafif yuvarlak köşeler */
    box-shadow:
        0 0 10px rgba(0, 255, 255, 0.5), /* Cyan parlama */
        0 0 20px rgba(0, 255, 255, 0.3);
    transition: all 0.5s ease; /* Yumuşak geçiş */
    opacity: 0; /* Başlangıçta JS ile görünür yapılır */
}

/* 7.5. Albüm kapağı üzerindeki parlak yansıma efekti */
.album-reflection {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: linear-gradient(
        135deg,
        rgba(255, 255, 255, 0.1) 0%, /* Sol üstten gelen ışık */
        rgba(255, 255, 255, 0) 50%  /* Ortada kaybolan ışık */
    );
    border-radius: 8px; /* Albüm kapağıyla aynı */
    z-index: 3; /* Albüm kapağının üzerinde */
    pointer-events: none; /* Tıklanamaz */
}

/* 7.6. Plak diski */
#vinylDisc,
.vinyl-disc {
    position: absolute;
    width: 240px; /* Albüm kapağından biraz küçük */
    height: 240px;
    background-color: #111; /* Koyu renk plak */
    border-radius: 50%; /* Tamamen yuvarlak */
    left: 50%;
    top: 50%;
    /* Plak, albüm kapağının hafif sağında duracak şekilde */
    transform: translate(-40%, -50%); /* Orijinal: translate(-50%, -50%) translateX(20px) */
    z-index: 1; /* Albüm kapağının arkasında */
    box-shadow: 0 0 15px rgba(0, 0, 0, 0.8); /* Plak gölgesi */
    transition: all 0.5s ease;
}

/* 7.7. Çalan plak için dönme animasyonu */
#vinylDisc.playing,
.vinyl-disc.playing {
    animation: rotate 10s linear infinite;
}

/* 7.8. Plak diskinin içindeki etiket benzeri detay */
.vinyl-inner {
    position: absolute;
    width: 35%; /* Plak boyutuna göre orantılı */
    height: 35%;
    border-radius: 50%;
    background: repeating-radial-gradient( /* Çizgili etiket görünümü */
        circle at center,
        #222,
        #222 2px,
        #333 3px,
        #333 4px
    );
    left: 50%;
    top: 50%;
    transform: translate(-50%, -50%); /* Tam ortala */
}

/* 7.9. Plak diskinin ortasındaki delik */
.vinyl-hole {
    position: absolute;
    width: 10%; /* Plak boyutuna göre orantılı */
    height: 10%;
    border-radius: 50%;
    background-color: var(--dark-bg); /* Ana arka plan rengiyle aynı */
    left: 50%;
    top: 50%;
    transform: translate(-50%, -50%);
}

/* 7.10. Şarkı adı ve sanatçıyı içeren konteyner */
.track-info {
    text-align: center;
    width: 100%;
    margin-top: 15px; /* Plaktan sonra boşluk */
}

/* 7.11. Şarkı adı */
#trackNameNeon,
.track-name {
    font-family: 'Orbitron', sans-serif;
    font-size: 1.5rem;
    font-weight: 700;
    margin-bottom: 5px;
    color: var(--neon-text);
    text-shadow: 0 0 5px var(--neon-text), 0 0 10px var(--neon-primary); /* Beyaz ve cyan parlama */
    white-space: nowrap; /* Tek satır */
    overflow: hidden; /* Taşmayı gizle */
    text-overflow: ellipsis; /* Taşarsa "..." */
    max-width: 400px; /* Genişlik sınırı */
}

/* 7.12. Sanatçı adı */
#artistNameNeon,
.artist-name {
    font-size: 1.1rem;
    color: rgba(255, 255, 255, 0.7); /* Hafif soluk beyaz */
    margin-bottom: 15px;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
    max-width: 380px;
}

/* ============================================= */
/* 8. SES DALGASI ANİMASYONU                   */
/* ============================================= */

/* 8.1. Ses dalgası çubuklarını içeren konteyner */
#soundWave,
.sound-wave {
    display: flex;
    align-items: center; /* Çubukları dikeyde ortala */
    justify-content: center; /* Çubukları yatayda ortala */
    height: 30px; /* Animasyon yüksekliği */
    margin: 20px 0; /* Üst ve alt boşluk */
}

/* 8.2. Tek bir ses dalgası çubuğu */
#soundWave span,
.sound-wave span {
    display: block;
    width: 3px; /* Çubuk genişliği */
    margin: 0 2px; /* Çubuklar arası boşluk */
    background-color: var(--neon-primary); /* Cyan */
    box-shadow: 0 0 5px var(--neon-primary);
    border-radius: 3px; /* Yuvarlak uçlar */
    animation: wave 1.2s infinite ease-in-out; /* Dalga animasyonu */
}

/* Her ikinci çubuğa farklı renk ve parlama */
#soundWave span:nth-child(2n),
.sound-wave span:nth-child(2n) {
    background-color: var(--neon-secondary); /* Magenta */
    box-shadow: 0 0 5px var(--neon-secondary);
}

/* Farklı çubuklar için animasyon gecikmeleri ve başlangıç yükseklikleri */
#soundWave span:nth-child(1), .sound-wave span:nth-child(1) { animation-delay: -1.2s; height: 10px; }
#soundWave span:nth-child(2), .sound-wave span:nth-child(2) { animation-delay: -1.1s; height: 15px; }
#soundWave span:nth-child(3), .sound-wave span:nth-child(3) { animation-delay: -1.0s; height: 20px; }
#soundWave span:nth-child(4), .sound-wave span:nth-child(4) { animation-delay: -0.9s; height: 25px; }
#soundWave span:nth-child(5), .sound-wave span:nth-child(5) { animation-delay: -0.8s; height: 20px; }
#soundWave span:nth-child(6), .sound-wave span:nth-child(6) { animation-delay: -0.7s; height: 15px; }
#soundWave span:nth-child(7), .sound-wave span:nth-child(7) { animation-delay: -0.6s; height: 20px; }
#soundWave span:nth-child(8), .sound-wave span:nth-child(8) { animation-delay: -0.5s; height: 25px; }
#soundWave span:nth-child(9), .sound-wave span:nth-child(9) { animation-delay: -0.4s; height: 15px; }
#soundWave span:nth-child(10), .sound-wave span:nth-child(10){ animation-delay: -0.3s; height: 10px; }

/* 8.3. Şarkı duraklatıldığında ses dalgası görünümü */
#soundWave.paused span,
.sound-wave.paused span {
    animation-play-state: paused; /* Animasyonu duraklat */
    height: 5px; /* Sabit düşük yükseklik */
}

/* ============================================= */
/* 9. ALT BÖLÜM (İLERLEME ÇUBUĞU VE ZAMAN)      */
/* ============================================= */

/* 9.1. İlerleme çubuğu ve zamanı içeren genel konteyner */
.progress-container {
    width: 100%;
}

/* 9.2. Mevcut süre ve toplam süreyi gösteren konteyner */
.time-display {
    display: flex;
    justify-content: space-between; /* Süreleri iki uca yasla */
    margin-bottom: 8px; /* İlerleme çubuğundan önce boşluk */
    font-family: 'Orbitron', sans-serif;
    font-size: 0.8rem;
    color: rgba(255, 255, 255, 0.7); /* Soluk beyaz */
}

/* 9.3. İlerleme çubuğunu saran konteyner */
.progress-bar-container {
    position: relative; /* İçindeki efektler için */
    height: 4px; /* Çubuk yüksekliği */
    width: 100%;
    background-color: rgba(255, 255, 255, 0.1); /* Saydam beyaz arka plan */
    border-radius: 2px; /* Hafif yuvarlak kenarlar */
    overflow: hidden; /* İçindeki efektlerin taşmasını engelle */
}

/* 9.4. İlerleme çubuğunun arka planındaki hareketli gradyan efekti */
.progress-bar-bg {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: linear-gradient(90deg,
        rgba(0, 255, 255, 0.2) 0%,    /* Cyan */
        rgba(255, 0, 255, 0.2) 50%,   /* Magenta */
        rgba(0, 255, 255, 0.2) 100%); /* Cyan */
    background-size: 200% 100%; /* Gradyan animasyonu için */
    animation: gradient-move 3s linear infinite; /* Hareketli gradyan */
}

/* 9.5. Dolu ilerleme çubuğu */
#progressBarFill,
.progress-bar-fill {
    position: absolute;
    top: 0;
    left: 0;
    height: 100%;
    width: 0%; /* Başlangıçta boş */
    background: linear-gradient(90deg,
        var(--neon-primary) 0%,   /* Cyan */
        var(--neon-secondary) 50%, /* Magenta */
        var(--neon-primary) 100%);/* Cyan */
    box-shadow: 0 0 10px var(--neon-primary); /* Cyan parlama */
    transition: width 1s linear; /* Genişlik değişimi için yumuşak geçiş */
}

/* ============================================= */
/* 10. HATA MESAJI                             */
/* ============================================= */

/* 10.1. Hata mesajı çubuğu */
#errorMessageNeon,
.error-message { /* Hem ID hem class ile seçilebilir */
    position: absolute;
    bottom: 0; /* En altta */
    left: 0;
    right: 0;
    padding: 10px;
    background-color: rgba(255, 0, 0, 0.7); /* Kırmızı (saydam) */
    color: white;
    text-align: center;
    font-size: 0.9rem;
    transform: translateY(100%); /* Başlangıçta aşağıda gizli */
    transition: transform 0.3s ease; /* Yumuşak kayma efekti */
    z-index: 100; /* En üstte */
}

/* 10.2. Hata mesajı görünür olduğunda */
#errorMessageNeon.visible,
.error-message.visible {
    transform: translateY(0); /* Yukarı kayarak görünür yap */
}

/* ============================================= */
/* 11. ANİMASYONLAR (@keyframes)               */
/* ============================================= */

/* 11.1. Durum göstergesi için nabız animasyonu */
@keyframes pulse {
    0% { opacity: 1; box-shadow: 0 0 5px var(--neon-accent), 0 0 10px var(--neon-accent); }
    50% { opacity: 0.5; box-shadow: 0 0 10px var(--neon-accent), 0 0 15px var(--neon-accent); }
    100% { opacity: 1; box-shadow: 0 0 5px var(--neon-accent), 0 0 10px var(--neon-accent); }
}

/* 11.2. Ses dalgası animasyonu */
@keyframes wave {
    0%, 100% { transform: scaleY(0.5); } /* Başlangıç ve bitişte kısa */
    50% { transform: scaleY(1); }    /* Ortada uzun */
}

/* 11.3. Plak diski için dönme animasyonu */
@keyframes rotate {
    from { transform: translate(-40%, -50%) rotate(0deg); }
    to { transform: translate(-40%, -50%) rotate(360deg); }
}

/* 11.4. İlerleme çubuğu arka planı için gradyan hareketi */
@keyframes gradient-move {
    0% { background-position: 0% 50%; }
    100% { background-position: 200% 50%; } /* Gradyanı kaydır */
}

/* 11.5. Arka plan ızgarası için hareket animasyonu */
@keyframes grid-move {
    from { background-position: 0 0; }
    to { background-position: 0 40px; } /* Izgarayı dikeyde kaydır */
}

/* ============================================= */
/* 12. MEDYA SORGULARI (RESPONSIVE)            */
/* ============================================= */

/* 12.1. Ekran genişliği 480px ve altı için stiller */
@media (max-width: 480px) {
    .spotify-widget-neon {
        width: 95%; /* Daha dar ekranlarda genişliği ayarla */
        height: auto; /* Yüksekliği içeriğe göre ayarla */
        min-height: 550px; /* Minimum yükseklik */
        padding: 15px; /* İç boşluğu azalt */
    }

    .album-container {
        width: 200px;
        height: 200px;
    }

    .vinyl-disc {
        width: 190px;
        height: 190px;
        transform: translate(-35%, -50%); /* Mobil için plak konumunu ayarla */
    }
    
    #vinylDisc.playing,
    .vinyl-disc.playing {
        animation-name: rotate_mobile; /* Mobil için farklı animasyon adı (eğer transform farklıysa) */
    }

    @keyframes rotate_mobile { /* Mobil için ayrı dönme animasyonu (gerekirse) */
        from { transform: translate(-35%, -50%) rotate(0deg); }
        to { transform: translate(-35%, -50%) rotate(360deg); }
    }


    .track-name {
        font-size: 1.2rem;
        max-width: 90%; /* Daha dar ekranlarda taşmayı engelle */
    }

    .artist-name {
        font-size: 0.9rem;
        max-width: 90%;
    }

    .sound-wave {
        margin: 15px 0;
    }
}
